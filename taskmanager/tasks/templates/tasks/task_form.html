{% extends 'tasks/base.html' %}
{% load static %}

{% block title %}
    {% if is_edit %}–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—É{% else %}–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–¥–∞—á—É{% endif %}
{% endblock %}

{% block content %}
<div class="container py-4">
    <h2 class="mb-4 text-center">
        {% if is_edit %}‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—É{% else %}üÜï –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∑–∞–¥–∞—á—É{% endif %}
    </h2>

    <form method="post" class="mx-auto" style="max-width: 600px;">
    {% csrf_token %}
    {% if form.errors %}
      <div class="alert alert-danger">
        <strong>‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞:</strong> –ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–ø—Ä–∞–≤—Ç–µ –ø–æ–º–∏–ª–∫–∏ –Ω–∏–∂—á–µ.
      </div>
    {% endif %}
    
    {{ form.title.label_tag }}
    {{ form.title }}

    {{ form.description.label_tag }}
    {{ form.description }}

    {{ form.status.label_tag }}
    {{ form.status }}

    {{ form.due_date.label_tag }}
    {{ form.due_date }}

    <div class="mb-3 position-relative" style="max-width: 600px;">
        {{ form.tags_input.label_tag }}
        {{ form.tags_input }}
        <div id="tag-suggestions"
             class="list-group position-absolute w-100 shadow-sm"
             style="top: 100%; left: 0; z-index: 1050; max-height: 200px; overflow-y: auto;">
        </div>
    </div>
        <button type="submit" class="btn btn-success">
            {% if is_edit %}üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏{% else %}‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–¥–∞—á—É{% endif %}
        </button>
        <a href="{% url 'task_list' %}" class="btn btn-danger">üîô –°–∫–∞—Å—É–≤–∞—Ç–∏</a>
    </div>
</form>
</div>
{% endblock %}
{% block scripts %}
    <script src="{% static 'tasks/tags_autocomplete.js' %}"></script>
{% endblock %}
